{"mappings":"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","sources":["app/functions.ts"],"sourcesContent":["const cardMapping = {\r\n    'c-1': 'ace_of_clubs',\r\n    'd-1': 'ace_of_diamonds',\r\n    'h-1': 'ace_of_hearts',\r\n    's-1': 'ace_of_spades',\r\n    'c-2': '2_of_clubs',\r\n    'd-2': '2_of_diamonds',\r\n    'h-2': '2_of_hearts',\r\n    's-2': '2_of_spades',\r\n    'c-3': '3_of_clubs',\r\n    'd-3': '3_of_diamonds',\r\n    'h-3': '3_of_hearts',\r\n    's-3': '3_of_spades',\r\n    'c-4': '4_of_clubs',\r\n    'd-4': '4_of_diamonds',\r\n    'h-4': '4_of_hearts',\r\n    's-4': '4_of_spades',\r\n    'c-5': '5_of_clubs',\r\n    'd-5': '5_of_diamonds',\r\n    'h-5': '5_of_hearts',\r\n    's-5': '5_of_spades',\r\n    'c-6': '6_of_clubs',\r\n    'd-6': '6_of_diamonds',\r\n    'h-6': '6_of_hearts',\r\n    's-6': '6_of_spades',\r\n    'c-7': '7_of_clubs',\r\n    'd-7': '7_of_diamonds',\r\n    'h-7': '7_of_hearts',\r\n    's-7': '7_of_spades',\r\n    'c-8': '8_of_clubs',\r\n    'd-8': '8_of_diamonds',\r\n    'h-8': '8_of_hearts',\r\n    's-8': '8_of_spades',\r\n    'c-9': '9_of_clubs',\r\n    'd-9': '9_of_diamonds',\r\n    'h-9': '9_of_hearts',\r\n    's-9': '9_of_spades',\r\n    'c-10': '10_of_clubs',\r\n    'd-10': '10_of_diamonds',\r\n    'h-10': '10_of_hearts',\r\n    's-10': '10_of_spades',\r\n    'c-11': 'jack_of_clubs',\r\n    'd-11': 'jack_of_diamonds',\r\n    'h-11': 'jack_of_hearts',\r\n    's-11': 'jack_of_spades',\r\n    'c-12': 'queen_of_clubs',\r\n    'd-12': 'queen_of_diamonds',\r\n    'h-12': 'queen_of_hearts',\r\n    's-12': 'queen_of_spades',\r\n    'c-13': 'king_of_clubs',\r\n    'd-13': 'king_of_diamonds',\r\n    'h-13': 'king_of_hearts',\r\n    's-13': 'king_of_spades',\r\n    'r-14': 'red_joker',\r\n    'b-14': 'black_joker'\r\n}\r\n\r\ninterface trackingCard {\r\n    'card': string,\r\n    'location': string\r\n}\r\n\r\ninterface cardDataObject {\r\n    'suit': string,\r\n    'number': string\r\n}\r\n\r\nconst moveTracker: object = {\r\n    trackingArray: [],\r\n    addMove(card: HTMLElement, dropLocation: HTMLElement) {\r\n        const location: string = dropLocation.className.slice(-2);\r\n        this.trackingArray.push({\r\n            'card': card,\r\n            'location': location\r\n        });\r\n    },\r\n    undoMove() {\r\n        if(this.trackingArray.length === 0) return;\r\n        let lastMove: trackingCard = this.trackingArray.pop();\r\n        let lastMoveSpot: Node = document.getElementsByClassName(lastMove.location)[0];\r\n        appendCard(lastMove.card, lastMoveSpot);   \r\n    },\r\n    grabbedCard: null\r\n}\r\n\r\nfunction opening(): void {\r\n    const cardDataArray: cardDataObject[] = [];\r\n    const cardSuit: string[] = ['s', 'h', 'c', 'd'];\r\n    const cardVal: number[] = [1,2,3,4,5,6,7,8,9,10,11,12,13];\r\n    cardSuit.forEach(function(suit: string) {\r\n        cardVal.forEach(function(value: number) {\r\n            cardDataArray.push({'suit': suit, 'number': String(value)})\r\n        });\r\n    });\r\n    const shuffledCardDataArray: cardDataObject[] = shuffle(cardDataArray);\r\n    let first28 = shuffledCardDataArray.slice(0, 28);\r\n    let second24 = shuffledCardDataArray.slice(28);\r\n    \r\n    let cardRows: NodeListOf<Element> = document.querySelectorAll('.cardRow');\r\n    first28.forEach(function(cardData: cardDataObject, index: number) {\r\n        const columnNumber = Math.floor(index / 7);\r\n        const card = createCard(cardData);\r\n        appendCard(card, cardRows[columnNumber]);\r\n    });\r\n\r\n    second24.forEach(function(cardData: cardDataObject, index: number) {\r\n        const columnNumber: number = Math.floor(index / 6 + 4);\r\n        const card = createCard(cardData);\r\n        appendCard(card, cardRows[columnNumber]);\r\n    });\r\n    document.onkeydown = keyPress;\r\n}\r\n\r\nfunction createCard(cardData): HTMLElement {\r\n    let card: HTMLElement = document.createElement('div');\r\n    let cardText: string = cardData['suit'] + '-' + cardData['number'];\r\n    card.style.backgroundImage = 'url(./card_images/' + cardMapping[cardText] + '.svg)';\r\n    \r\n    card.className = 'card';\r\n    card.dataset.suit = cardData['suit'];\r\n    card.dataset.colour = 'hd'.includes(cardData['suit']) ? 'r' : 'b'\r\n    card.dataset.number = cardData['number'];\r\n    return card\r\n}\r\n\r\nfunction shuffle(array: cardDataObject[]): cardDataObject[]  {\r\n    let m: number = array.length;\r\n    while (m) {\r\n        let i: number = Math.floor(Math.random() * m--);\r\n        let t: cardDataObject = array[m];\r\n        array[m] = array[i];\r\n        array[i] = t;\r\n    }\r\n    return array;\r\n}\r\n\r\nfunction getAllMoveableCards(): NodeListOf<Element> {\r\n    const allMoveableCardsSelectorQuery: string = `\r\n        .leftFour .cardStack .card,\r\n        .rightFour .cardStack .card:last-child,\r\n        .cardRow .card:last-child\r\n    `;\r\n    const allMoveableCards: NodeListOf<Element> = document.querySelectorAll(allMoveableCardsSelectorQuery);\r\n\r\n    // working on moving stacks in bottom row\r\n    // const topFour = document.querySelectorAll('.leftFour .cardStack');\r\n    // let emptyTopCardSpaces = 0;\r\n    // topFour.forEach(function(cardStack) {\r\n    //     if (!cardStack.hasChildNodes) {\r\n    //         emptyTopCardSpaces ++;\r\n    //     }\r\n    // });\r\n\r\n\r\n    return allMoveableCards\r\n}\r\n\r\nfunction checkWin(): boolean {\r\n    const cardCount: number = document.querySelectorAll('.rightFour .cardStack .card').length;\r\n    if(cardCount === 52) {\r\n        alert('win')\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction keyPress(event): void {\r\n    if (event.keyCode == 90 && event.ctrlKey) {\r\n        moveTracker.undoMove();\r\n    }\r\n}\r\n\r\nfunction addAllClickEvents(): void {\r\n    let moveCards: NodeListOf<Element> = getAllMoveableCards();\r\n    moveCards.forEach(function(card: Element) {\r\n        card.addEventListener('click', handleClick)\r\n    });\r\n}\r\n\r\nfunction handleClick(event: Event): void {\r\n    const clickedCard: HTMLElement = event.target;\r\n    let hasMoved: boolean = false;\r\n    const allTopRightCards: NodeListOf<Element> = document.querySelectorAll('.rightFour .cardStack');\r\n    const allTopRightCardsArray: Element[] = [...allTopRightCards];\r\n    hasMoved = allTopRightCardsArray.some(function(targetStack) {\r\n        const checkAcePlacement = !targetStack.hasChildNodes() && clickedCard.dataset.number === '1';\r\n        if(checkAcePlacement) {\r\n            moveTracker.addMove(clickedCard, clickedCard.parentElement);\r\n            appendCard(clickedCard, targetStack);\r\n            return true\r\n        } else if (targetStack.hasChildNodes()) {\r\n            const cardData = clickedCard.dataset;\r\n            const stackData = targetStack.lastChild.dataset;\r\n            const checkNumberCardPlacement: boolean = (\r\n                cardData.suit === stackData.suit\r\n                && Number(cardData.number) === Number(stackData.number) + 1\r\n            );\r\n            if(checkNumberCardPlacement) {\r\n                moveTracker.addMove(clickedCard, clickedCard.parentElement);\r\n                appendCard(clickedCard, targetStack);\r\n                return true\r\n            }\r\n        }\r\n    });\r\n    if(hasMoved) return;\r\n\r\n    const allLowerMoveableCards:NodeListOf<Element> = document.querySelectorAll('.cardRow');\r\n    const allLowerMoveableCardsArray: Element[] = [...allLowerMoveableCards];\r\n    hasMoved = allLowerMoveableCardsArray.some(function(targetStack){\r\n        if(targetStack.hasChildNodes()) {\r\n            const cardData = clickedCard.dataset;\r\n            const stackData = targetStack.lastChild.dataset;\r\n            const checkDropLower: boolean = (\r\n                cardData.colour !== stackData.colour\r\n                && Number(cardData.number) + 1 === Number(stackData.number)\r\n            );\r\n            if(checkDropLower) {\r\n                moveTracker.addMove(clickedCard, clickedCard.parentElement);\r\n                appendCard(clickedCard, targetStack);\r\n                return true;\r\n            }\r\n        } else {\r\n            moveTracker.addMove(clickedCard, clickedCard.parentElement);\r\n            appendCard(clickedCard, targetStack);\r\n            return true;\r\n        }\r\n    });\r\n    if(hasMoved) return;\r\n\r\n    const allTopLeftCards: NodeListOf<Element> = document.querySelectorAll('.leftFour .cardStack');\r\n    const allTopLeftCardsArray: Element[] = [...allTopLeftCards];\r\n    allTopLeftCardsArray.some(function(targetStack) {\r\n        if(!targetStack.hasChildNodes()) {\r\n            moveTracker.addMove(clickedCard, clickedCard.parentElement);\r\n            appendCard(clickedCard, targetStack);\r\n            return true\r\n        }\r\n    });\r\n}\r\n\r\nfunction handleDragStart(event: Event): void {\r\n    moveTracker.grabbedCard = event.target;\r\n    makeDroppable(moveTracker.grabbedCard)\r\n}\r\n\r\nfunction appendCard(card, targetCardDropPoint) {\r\n    // fix card offset for bottom rows\r\n    if(targetCardDropPoint.className.includes('cardRow')) {\r\n        card.style.top = String(220 + targetCardDropPoint.childElementCount * 20) + \"px\";\r\n    } else {\r\n        card.style.top = '';\r\n    }\r\n    targetCardDropPoint.append(card);\r\n    removeEventListeners();\r\n    checkWin();\r\n    setDraggableCards();\r\n    addAllClickEvents();\r\n}\r\n\r\nfunction handleDrop(event) {\r\n    event.stopPropagation();\r\n    const dropPoint = event.target;\r\n    const targetCardDropPoint = dropPoint.className === 'card' ? dropPoint.parentElement : dropPoint;\r\n    moveTracker.addMove(moveTracker.grabbedCard, moveTracker.grabbedCard.parentElement);\r\n    appendCard(moveTracker.grabbedCard, targetCardDropPoint);  \r\n}\r\n\r\nfunction makeDroppable(grabbedCard) {\r\n    // left four\r\n    const leftCards = document.querySelectorAll('.leftFour .cardStack');\r\n    leftCards.forEach(function(targetStack) {\r\n        if(targetStack.childElementCount === 0) {\r\n            targetStack.addEventListener(\"dragover\", stopDragOver);    \r\n            targetStack.addEventListener('drop', handleDrop);\r\n        }\r\n    });\r\n    // right four\r\n    let rightCards = document.querySelectorAll('.rightFour .cardStack');\r\n    rightCards.forEach(function(targetStack) {\r\n        const checkAcePlacement = !targetStack.hasChildNodes() && grabbedCard.dataset.number === '1';\r\n        if(checkAcePlacement) {\r\n            targetStack.addEventListener(\"dragover\", stopDragOver);\r\n            targetStack.addEventListener('drop', handleDrop);\r\n        } else if (targetStack.hasChildNodes()) {\r\n            const checkNumberCardPlacement = (\r\n                targetStack.lastChild.dataset.suit === grabbedCard.dataset.suit \r\n                && Number(targetStack.lastChild.dataset.number) + 1 === Number(grabbedCard.dataset.number)\r\n            );\r\n            if (checkNumberCardPlacement) {\r\n                targetStack.lastChild.addEventListener(\"dragover\", stopDragOver);\r\n                targetStack.lastChild.addEventListener('drop', handleDrop);\r\n            }\r\n        }\r\n    });\r\n    // bottom row\r\n    let bottomCards = document.querySelectorAll('.cardRow');\r\n    bottomCards.forEach(function(cardStack) {\r\n        if(cardStack.hasChildNodes()) {\r\n            const checkDropLower = (\r\n                grabbedCard.dataset.colour !== cardStack.lastChild.dataset.colour\r\n                && Number(grabbedCard.dataset.number) + 1 === Number(cardStack.lastChild.dataset.number)\r\n            );\r\n            if(checkDropLower) {\r\n                cardStack.addEventListener(\"dragover\", stopDragOver);\r\n                cardStack.addEventListener('drop', handleDrop);\r\n            } \r\n        } else {\r\n            cardStack.addEventListener(\"dragover\", stopDragOver);\r\n            cardStack.addEventListener('drop', handleDrop);\r\n        }\r\n    });\r\n}\r\n\r\nfunction stopDragOver(event) {event.preventDefault();}\r\n\r\nfunction setDraggableCards() {\r\n    let allCards = document.querySelectorAll('.card')\r\n    allCards.forEach(function(c) {\r\n        c.setAttribute('draggable', 'false');\r\n        c.removeEventListener(\"dragstart\", handleDragStart);\r\n    });\r\n\r\n    let topCardStacks = document.querySelectorAll('.fourBlock .cardStack')\r\n    topCardStacks.forEach(function(cardStack) {\r\n        if(cardStack.hasChildNodes()) {\r\n            cardStack.lastChild.setAttribute('draggable', 'true');\r\n            cardStack.lastChild.addEventListener(\"dragstart\", handleDragStart);\r\n        }\r\n    });\r\n\r\n    let mm = document.querySelectorAll('.cardRow');\r\n    mm.forEach(function(value) {\r\n        if(value.hasChildNodes()) {\r\n            value.lastChild.setAttribute('draggable', 'true');\r\n            value.lastChild.addEventListener(\"dragstart\", handleDragStart);\r\n        }\r\n    })\r\n}\r\n\r\nfunction removeEventListeners() {\r\n    const allCardsAndDropPoints = document.querySelectorAll('.card, .cardRow, .cardStack')\r\n    allCardsAndDropPoints.forEach(function(position) {\r\n        position.removeEventListener('click', handleClick)\r\n        position.removeEventListener(\"dragover\", stopDragOver);\r\n        position.removeEventListener('drop', handleDrop);\r\n    });  \r\n}\r\n\r\n\r\nopening()\r\n"],"names":[],"version":3,"file":"index.98ff910d.js.map","sourceRoot":"/__parcel_source_root/"}